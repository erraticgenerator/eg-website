<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:image" content="https://erraticgenerator.com/static/846fcc047851fbcf1f8ffca752caba00/thumb.png"/><meta data-react-helmet="true" name="twitter:description" content="In this post, I want to talk about how to create a gradient line in p5js. But first, let&#x27;s look at how we can do this without using any…"/><meta data-react-helmet="true" name="twitter:title" content="Gradient Lines And Brushes In p5js"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="og:image" content="https://erraticgenerator.com/static/846fcc047851fbcf1f8ffca752caba00/thumb.png"/><meta data-react-helmet="true" property="og:description" content="In this post, I want to talk about how to create a gradient line in p5js. But first, let&#x27;s look at how we can do this without using any…"/><meta data-react-helmet="true" property="og:title" content="Gradient Lines And Brushes In p5js"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:url" content="https://erraticgenerator.com/blog/gradient-lines-and-brushes-in-p5js/"/><meta data-react-helmet="true" name="image" content="https://erraticgenerator.com/static/846fcc047851fbcf1f8ffca752caba00/thumb.png"/><meta data-react-helmet="true" name="description" content="In this post, I want to talk about how to create a gradient line in p5js. But first, let&#x27;s look at how we can do this without using any…"/><meta name="generator" content="Gatsby 4.10.3"/><style data-href="/styles.263cc77e36b0087b6e1e.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}body .gist .highlight{background:#fdf6e3}body .gist .blob-code-inner,body .gist .blob-num,body .gist .pl-s1 .pl-s2,body .gist .pl-smi,body .gist .pl-smp,body .gist .pl-stj,body .gist .pl-vo,body .gist .pl-vpf{color:#657b83}body .gist .pl-c,body .gist .pl-c span{color:#93a1a1;font-style:italic}body .gist .pl-mb{color:#2aa198;font-weight:700}body .gist .pl-mh .pl-en{color:#cb4b16;font-weight:700}body .gist .pl-mi{color:#859900;font-style:italic}body .gist .pl-c1,body .gist .pl-pds,body .gist .pl-s1,body .gist .pl-s1 .pl-pse .pl-s2,body .gist .pl-sv{color:#2aa198}body .gist .pl-e,body .gist .pl-en,body .gist .pl-ent,body .gist .pl-s,body .gist .pl-v{color:#268bd2}body .gist .pl-k,body .gist .pl-mdh,body .gist .pl-mdr,body .gist .pl-ml,body .gist .pl-mm,body .gist .pl-mo,body .gist .pl-mp,body .gist .pl-mr,body .gist .pl-ms,body .gist .pl-s1 .pl-v,body .gist .pl-s3{color:#859900}body .gist .pl-mh,body .gist .pl-sc,body .gist .pl-sr .pl-cce{color:#cb4b16}body .gist .highlight-source-css .pl-k,body .gist .pl-mq{color:#93a1a1}body .gist .pl-sr,body .gist .pl-sr .pl-sra,body .gist .pl-sr .pl-sre,body .gist .pl-src{color:#d30102}body .gist .highlight-source-c\+\+ .pl-s,body .gist .pl-st{color:#dc322f}body .gist .pl-mdht,body .gist .pl-mi1{background:rgba(0,64,0,.5);color:#657b83}body .gist .pl-id,body .gist .pl-ii,body .gist .pl-md,body .gist .pl-mdhf{background:rgba(64,0,0,.5);color:#657b83}</style><title data-react-helmet="true">Gradient Lines And Brushes In p5js | ErraticGenerator.com</title><link href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css" rel="stylesheet"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link as="script" rel="preload" href="/webpack-runtime-c38d417cd8f1828bb2e9.js"/><link as="script" rel="preload" href="/framework-68cf14eef5bda77f0f65.js"/><link as="script" rel="preload" href="/app-45d7508fd8245f182e57.js"/><link as="script" rel="preload" href="/commons-a19e32fc4bdcf911055e.js"/><link as="script" rel="preload" href="/eb9d8cad3e7a5281726e7c4ed76f1fbad1e5b719-6acf9f4f59ccff7436a6.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-template-js-478bf50e9978849b5b40.js"/><link as="fetch" rel="preload" href="/page-data/blog/gradient-lines-and-brushes-in-p5js/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1139398070.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1696241065.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 1j3ddox">.css-1j3ddox{height:100%;display:grid;grid-template-columns:100%;grid-template-rows:120px auto 100px;}.css-1j3ddox p{margin-bottom:2.4rem;font-size:1.8rem;line-height:1.6;}</style><div class="css-1j3ddox"><style data-emotion="css-global 1k9w1ix">@import url("https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap");*{margin:0;box-sizing:border-box;}html,body{font-family:"Raleway",sans-serif;font-size:10px;height:100%;}a{color:black;-webkit-text-decoration:none;text-decoration:none;}</style><style data-emotion="css yepcm5">.css-yepcm5{grid-row:1/2;}</style><style data-emotion="css 8souqa">.css-8souqa{margin-bottom:48px;padding:12px 0;height:120px;background-image:linear-gradient(#fdd 0%, white 100%);}</style><header class="css-8souqa"><style data-emotion="css 1v2sh8t">.css-1v2sh8t{margin:0 auto;padding:0 12px;max-width:800px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-1v2sh8t"><style data-emotion="css 16xc8z8">.css-16xc8z8{-webkit-flex:4;-ms-flex:4;flex:4;}@media (max-width: 600px){.css-16xc8z8{-webkit-flex:6;-ms-flex:6;flex:6;}}</style><div class="css-16xc8z8"><style data-emotion="css 1j389vi">.css-1j389vi{font-weight:700;}</style><h1 class="css-1j389vi"><a href="/">Erratic Generator</a></h1><style data-emotion="css mmvz9h">.css-mmvz9h{font-weight:400;}</style><h2 class="css-mmvz9h">Creative Coding and Design</h2></div><style data-emotion="css 5a1ead">.css-5a1ead{-webkit-flex:1;-ms-flex:1;flex:1;font-size:1.6rem;}</style><a class="css-5a1ead" href="/about/">About</a></div></header><style data-emotion="css v2h3ik">.css-v2h3ik{max-width:800px;width:100%;margin:0 auto;padding:0 12px;grid-row:2/3;}</style><main class="css-v2h3ik"><div class="css-0"><style data-emotion="css nyfdx3">.css-nyfdx3{margin-bottom:3rem;}</style><header class="css-nyfdx3"><style data-emotion="css 10d63d4">.css-10d63d4{margin-top:1rem;font-size:4rem;line-height:1.2;}</style><h1 class="css-10d63d4">Gradient Lines And Brushes In p5js</h1><style data-emotion="css 5ezmz0">.css-5ezmz0{margin-bottom:0.6rem;color:#666;font-size:2.4rem;font-weight:400;}</style><h2 class="css-5ezmz0">Gradient lines and brushes with linear interpolation</h2><style data-emotion="css 1dqoxsa">.css-1dqoxsa{color:#666;font-size:1.8rem;}</style><time class="css-1dqoxsa">January 28, 2021</time></header><style data-emotion="css e9foim">.css-e9foim h2{margin-bottom:0.8rem;font-family:"Open Sans",sans-serif;font-size:2.4rem;}.css-e9foim p{margin-bottom:2.4rem;font-size:1.8rem;line-height:1.6;}.css-e9foim a{color:teal;-webkit-text-decoration:underline;text-decoration:underline;}.css-e9foim ul{margin-bottom:2.4rem;font-size:1.8rem;}.css-e9foim li{line-height:1.6;}.css-e9foim figure{margin:5rem auto;width:100%;}.css-e9foim .gatsby-resp-image-wrapper{max-width:100%!important;}.css-e9foim figure img{width:100%;}.css-e9foim figure figcaption{padding:0.6rem 4%;color:#666;font-size:1.6rem;text-align:center;}.css-e9foim .gist,.css-e9foim .gatsby-highlight{margin:5rem auto;}.css-e9foim .gist .gist-file{border:none;}.css-e9foim .gatsby-highlight,.css-e9foim .gist span{font-size:1.4rem;}</style><div class="css-e9foim"><p><figure class='gatsby-resp-image-figure' style=''>
    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; '>
      <span class='gatsby-resp-image-background-image' style="padding-bottom: 62.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADN0lEQVQozwXBW0+aBwCA4e9i2TJFq0WLCCgqKFS+UgVBEEQUwQNQQeWMIqIiiIoHuuCxls61tqmu7sIsy4zpndkut9slu9ufevc8wvV8icVFHdYBD9MDYaZkAYYaPCg0T1nTJQjXDRObjPCgeOCqFiRxP4VpMkE0Nkb4NxUTj1rEJR/ulWXMZj3C/k6BSvoMT66DIZMJfb2ewvgnxC92XnR2EPh+iOObGKbqIrZ9H1P/xKn8tUq8dsXlco2VX9fxO5KsbJ7hyxgQjl1rGOaWkE920qiUMGEcY8WZJTLlozmkQd7fg/Gokd6FYQLaGZqtQ2T6RLaXLijHq+RDEUbHR8gczXCUTSCEX/oR5/wk3iV43qnB7ZjEqfdyYtzBWbKh1YbxR+ME+gbYrrugtc6E2tqM6zaFIV3Ca3HjvXCQnPZzJH2DYB7bY+LxK8V3u+Rf5LEvbvDalefN8DIxXYRPygnWwylK+hi7PjNu0Uy7RIVM0cGpdZfVYR/6QyVtBhmGhgBC5WSLtzvvORr5gdF6PY3WLkbuq+hvA6jkOpIHBSZ+f40nk0LMy3BuDyG3diA0Cyz6PdhDbmx3IXran9HQUo+Q+zNL8q2HorhGm0PE7VZS/HmW0h9bmPZcDN6GeXUfxBLNou/VEkk5mLtJsvdtltFikJ7kJOpXPlTqVuolLQjGESPpdBdm3zyaxxzlz7Ncn59xOmBFq5AilUpokTbwRPId07Y0BzdVvlyucjxwS0l3yFTejC0XwRucZmtdiWB2+HHvzpFOeNFa+vEH7YgmB92iGkm/FHXfMJ26PjrapITsM5yv31EbCSP2iCg6owRXZlj96YCKao7qtQVh0DZO4EOeXHmPlNxCk7yJZ980odqwISsoaevqIVUNsnzST7SmYSLtIeBe4mvxnOr0W6Y3Q9g/VPgY2eSk9h4hWNGjNSjQzFso7C+gN6hpVXdhLW8gjzTT/dDIwk6EpTuR039DRNdijIVc7DtzJIJV5moaLPMqyr/EOTy8ROg1d/OksRW5SYnKoeWl3UvY4iDrc6Lua8EYauepXMagz4zXXiT+42fK/1nJbNg5zHxktuAi+PcY/bsGFq6e8z/u18HP51h6GwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class='gatsby-resp-image-image' alt='Gradient lines on HTML5 Canvas' title='Gradient lines on HTML5 Canvas' src='/static/846fcc047851fbcf1f8ffca752caba00/c1b63/thumb.png' srcset='/static/846fcc047851fbcf1f8ffca752caba00/5a46d/thumb.png 300w,
/static/846fcc047851fbcf1f8ffca752caba00/0a47e/thumb.png 600w,
/static/846fcc047851fbcf1f8ffca752caba00/c1b63/thumb.png 1200w,
/static/846fcc047851fbcf1f8ffca752caba00/ddb6a/thumb.png 1592w' sizes='(max-width: 1200px) 100vw, 1200px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>
    </span>
    <figcaption class='gatsby-resp-image-figcaption'>Gradient lines on HTML5 Canvas</figcaption>
  </figure></p>
<p>In this post, I want to talk about how to create a gradient line in p5js. But first, let's look at how we can do this without using any libraries with HTML5 Canvas API.</p>
<h2>Canvas Way</h2>
<p>Conveniently for us, there is a method called <code class="language-text">createLinearGradient()</code>. The idea is to set the start and end of the gradient position the same as the line itself.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// assuming you already have a &lt;canvas> in your html.</span>

<span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">800</span>
canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">500</span>
ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'round'</span>

<span class="token function">gradientLine</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">380</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span>
<span class="token function">gradientLine</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token number">720</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token string">'brown'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">)</span>
<span class="token function">gradientLine</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token number">520</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">440</span><span class="token punctuation">,</span> <span class="token string">'lightblue'</span><span class="token punctuation">,</span> <span class="token string">'lime'</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">gradientLine</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> c1<span class="token punctuation">,</span> c2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> c1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p><figure class='gatsby-resp-image-figure' style=''>
    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; '>
      <span class='gatsby-resp-image-background-image' style="padding-bottom: 62.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACyUlEQVQoz12STWhUVxTH76LdKC4EpZQutIQSaWsXbaGuWpVqoYpdVqWNi27aUDD4tYhEmxqI2EUqhtoWJbRi0qZpLIkLB6HFKihEJIySTw1MPifv3nPf17yZNzMv+UleYjFdHP73wOXHOf//UZlMhgMHD/Do0UOiKEJrjbUWEUl1+b3cu9byOG+YyGtcYzDaQYzBC0Nc30//qPr6epRS7Nz5CZ7nrYKtUjHktaZ3ZJq+sVkkjAgqVdywwMzwMPO5XApVQ0NDbNr0Lkpt5OjRNpIkxnF0ChCjEeMgYvDDIlN+wOXHg3SOZ5kYuEP25zb+/rKOrrfe4NpHu9H5PCpJKvT23kSpbSi1i54/brG4UMAxLjaMcYsJ4gfIWJbsnR7OTmW4cLeD69tfoad2DZ016/n97Tf5p6EB0Rq1NE1SjTjVdAWl9rN2XTN3788TyjT5wQxT175h9Ls9ZOs2cv3rGo6Yq7TebuHWoQ8YaDnGaP+fzI4M4xUKWNdFpYYHVTw/oG7fafbV7uVm44fo9tcZP6wY/kIxeEgx8lUNNy59zn45Q+vkj3jzDl5cxo/LuGGYhpOGsuRVYaCZ+K93qHasZbFdsXBeMdf8IjMX3mOy6zAz93oo5HL86z/gff0Z38oPFN0iWs+naz6DLQWo3LkxuKJILiqiX15mrnMvDTuOs3V9N91Xp1kgwfFLlP2EPnuDLf52mtxzlKWEtjoFPasUKNYjGO8jGOnGzD4hqpQ5fsxBqSlqX7IM3he8IE9Jl/jV62JD9Bon/RYqUk6BVux/97oCtIgfI0EFYwNcq4kizacfuyi1yMXvC8SJQ9Epcz5o54XyOprCZqpSwVma0MpqoE2PVq+UwRghCISJJx4dPxWYzFnEc6iYKieiEygUjVEjiSQ41lkFWwY+1yz7IBhj8TyhUjWpatHEEvNb0MWryWb6g35KKx7+H/gUNXEZjfNVgQwAAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <img class='gatsby-resp-image-image' alt='Creating gradient lines with Canvas API' title='Creating gradient lines with Canvas API' src='/static/cbb49f0ae98656a3485cd987e56940de/c1b63/1.png' srcset='/static/cbb49f0ae98656a3485cd987e56940de/5a46d/1.png 300w,
/static/cbb49f0ae98656a3485cd987e56940de/0a47e/1.png 600w,
/static/cbb49f0ae98656a3485cd987e56940de/c1b63/1.png 1200w,
/static/cbb49f0ae98656a3485cd987e56940de/ddb6a/1.png 1592w' sizes='(max-width: 1200px) 100vw, 1200px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>
    </span>
    <figcaption class='gatsby-resp-image-figcaption'>Creating gradient lines with Canvas API</figcaption>
  </figure></p>
<p>This Canvas solution might be just what you need, but p5js does not have this part of the Canvas API implemented so if you want to try this with p5js, use the global variable <code class="language-text">drawingContext</code> like this:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">gradientLine</span><span class="token punctuation">(</span>drawingContext<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span></code></pre></div>
<h2>Using A Loop</h2>
<p>Let's look at another way of creating a gradient. In fact, there are multiple ways of doing this. My solution in this post is similar to <a href="https://p5js.org/examples/color-linear-gradient.html">the linear gradient example</a> where we draw multiple shapes in a loop to make it feel as if it is a single continuous line. This, I think, is the simplest and easiest one to implement.</p>
<p>Other methods of creating gradients that I can think of are:</p>
<ul>
<li>per-vertex coloring of a path</li>
<li>use an image texture in WebGL mode</li>
<li>use a WebGL shader</li>
</ul>
<p>I do want to explore these other options when I get a chance but for now, let's keep things simple and look at how we can create a gradient using a for loop and linear interpolation.</p>
<h2>Fill The Gap</h2>
<p>This is where we start. We just define two end points.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">createCanvas</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">colorMode</span><span class="token punctuation">(</span><span class="token constant">HSB</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> x1 <span class="token operator">=</span> <span class="token number">40</span>
  <span class="token keyword">const</span> y1 <span class="token operator">=</span> <span class="token number">40</span>
  <span class="token keyword">const</span> x2 <span class="token operator">=</span> mouseX
  <span class="token keyword">const</span> y2 <span class="token operator">=</span> mouseY

  <span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token function">ellipse</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>

  <span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
  <span class="token function">ellipse</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p><figure class='gatsby-resp-image-figure' style=''>
    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; '>
      <span class='gatsby-resp-image-background-image' style="padding-bottom: 62.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAvklEQVQoz6WSyw2DMBBE3UTSET1xpgQK4EI/oQUUhRvI3iF8FA4TrRM4IBGIOVheW9rnN1qbVxRxjGMKSVhLiBBA8DJDkrDLc8o0Ec6dB6qZh4lQAL9OAX1M5z4gtdswFAjlgL2ZIQtwDfreOXG0YpfzFtwciaHNI0byyZ+wXaDGVLMBA4u6YPbIvGWwoTYpQM3Se8rL7crKVuzQ+YeCIiu0RctGGpa29HVw5DW0R7876UOG8z7H1PrUlP/52G+PfpBbjjv77wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class='gatsby-resp-image-image' alt='Two Circles' title='Two Circles' src='/static/9260f933b5b62a080a41f7def21327d6/c1b63/2.png' srcset='/static/9260f933b5b62a080a41f7def21327d6/5a46d/2.png 300w,
/static/9260f933b5b62a080a41f7def21327d6/0a47e/2.png 600w,
/static/9260f933b5b62a080a41f7def21327d6/c1b63/2.png 1200w,
/static/9260f933b5b62a080a41f7def21327d6/ddb6a/2.png 1592w' sizes='(max-width: 1200px) 100vw, 1200px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>
    </span>
    <figcaption class='gatsby-resp-image-figcaption'>Two Circles</figcaption>
  </figure></p>
<p>I have two circles here and I want to create a series of circles to fill the space between them as well as gradually change the color. Adding an arbitrary number of circles will not cut as it may still leave some empty space between circles. Instead, we can calculate the distance between the two initial circles and add new circles and place them dense enough to make it look like it is a continuous line.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> x1 <span class="token operator">=</span> <span class="token number">40</span>
  <span class="token keyword">const</span> y1 <span class="token operator">=</span> <span class="token number">40</span>
  <span class="token keyword">const</span> x2 <span class="token operator">=</span> mouseX
  <span class="token keyword">const</span> y2 <span class="token operator">=</span> mouseY
  
  <span class="token keyword">const</span> c1 <span class="token operator">=</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> c2 <span class="token operator">=</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>

  <span class="token function">fill</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>
  <span class="token function">ellipse</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>

  <span class="token function">fill</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span>
  <span class="token function">ellipse</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">dist</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> d<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> step <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> d<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">lerp</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> step<span class="token punctuation">)</span>
    <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token function">lerp</span><span class="token punctuation">(</span>y1<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> step<span class="token punctuation">)</span>
    
    <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">lerpColor</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span> c2<span class="token punctuation">,</span> step<span class="token punctuation">)</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token function">ellipse</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The important thing to look at here is the for loop. It goes through the whole distance and at each iteration, <code class="language-text">i</code> is incremented by one (a single pixel) so that we can add a new circle every pixel between the start and end position. To calculate the intermediate <code class="language-text">(x, y)</code> position value, we use <code class="language-text">lerp()</code> or linear interpolation. The linear interpolation finds a value between the two end values - <code class="language-text">(x1, x2)</code> and <code class="language-text">(y1, y2)</code> - by the amount we set as the third argument. That amount goes between 0 and 1. That is why I am mapping <code class="language-text">i</code> that originally goes between <code class="language-text">0</code> and <code class="language-text">d</code> to be within the range of <code class="language-text">0</code> and <code class="language-text">1</code>. We also interpolate the two colors with a very helpful p5js method <code class="language-text">lerpColor()</code>. The result is as below:</p>
<p><img src="/static/3-742b7a106ff1d093016af1b106599c8f.gif" alt="A simple gradient between two points"></p>
<p>Let's refactor the code and make this into a reusable function.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">gradientLine</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> mouseX<span class="token punctuation">,</span> mouseY<span class="token punctuation">,</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">gradientLine</span><span class="token punctuation">(</span><span class="token parameter">x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> c1<span class="token punctuation">,</span> c2<span class="token punctuation">,</span> sz</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">dist</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> d<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> step <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> d<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">lerp</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> step<span class="token punctuation">)</span>
    <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token function">lerp</span><span class="token punctuation">(</span>y1<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> step<span class="token punctuation">)</span>
    <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">lerpColor</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span> c2<span class="token punctuation">,</span> step<span class="token punctuation">)</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token function">ellipse</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> sz<span class="token punctuation">,</span> sz<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now, it is a reusable function meaning we can create multiple gradient lines easily.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// in setup()</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">50</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">gradientLine</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p><figure class='gatsby-resp-image-figure' style=''>
    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; '>
      <span class='gatsby-resp-image-background-image' style="padding-bottom: 62.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADGElEQVQozx3ReVMbZQDA4f2sjlUQY9IQCKFQUASUSksZBNsRhpFD6liPXiBtQWgZBwoEsiF3sptNNsfm2nc3u9BS+nOmX+D555Fado2GrWKKMg1bIebeQ774CdmeQjbHiDcnSOrjRLa8qMocirpIOfMQsTuFtteNqoyjHk+Siy1hWQJJd18Q/3AH5d0s+fYEmXYAxQyglv1kUx7U2DjqmyliT7rJba9SOF7AvDqkfHTCQdhL+sNzXIuPmLAukC7V32nsjFBRTrCaSaytHxCVf3H0QYxSH6m9DuLr10hsdhDducZhsovTq3Ga7xoU23cpnH2NqJUQ9luc5glS29So/vkN8kwfWniBxt4Idn2ac7cf0R6kmPKTjXhQq6MUnFmKp30UN4dohhdp6pOI+F3M0o+cV59ypd9CMioraOlHxHeHyWx/inbgo5ryYTZD5N1+Dt8OcCyCRKwJoo1bRBPXkY89RCOfI8tdpMM9OEkfF1ovlsgjNQwf8m8DxB8Okl7uJHPHS3bFi3Z4HV3rRdVDnOUDnM5/gfxLJ9mnXkrbw+TXe1GP7lM6u4mdmME2NzDbdaTc+2li0WHOXveQej6OMuOhut5DaaOb8pYfJdND5rWf7FgX+v0+ivMhKstjFFZvYOz0YSl/IWwXYZ1jCRNJtAVG64RsbRbt2RNScx4quSDFnW5ic12cKr3kNgPUNoM4pQGK6ijF/Wkqj4PUXnoxU39jmXWE5SKEg2QJ52N3mSUKYS/ZNwHKRgBdDpB85SdcCdBSB2ldjmHaIUQhROZlJ8Xoz5h6GDMexMmNcFF/hmWpSMKqU3M2qLgzlDNTxNY8GKltLO1bVEIcGZPkHvRTTq+RN0fI/fcVhV0fkf1P0AqvaBJHbw8hRAjl/ShS6eo2ZXee2uUiucj3JB6N0qivUTi8SeSoh5oxgyH/g7zaTezXLynKYxSz/RiRIOXIHNXTdaqZYRr2MvV2BqnlpBAtl3p1Gy22QK01hOWuUNcSJGa/o/ZiisyDYWKPfZz90UFysx/5oIv0/iSpezdILn2Gsnsby3SwxTn/A9JOGlPQUaBmAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class='gatsby-resp-image-image' alt='Multiple random gradient lines' title='Multiple random gradient lines' src='/static/c4fef90c72317bf96de1277e5b1a73b3/c1b63/4.png' srcset='/static/c4fef90c72317bf96de1277e5b1a73b3/5a46d/4.png 300w,
/static/c4fef90c72317bf96de1277e5b1a73b3/0a47e/4.png 600w,
/static/c4fef90c72317bf96de1277e5b1a73b3/c1b63/4.png 1200w,
/static/c4fef90c72317bf96de1277e5b1a73b3/ddb6a/4.png 1592w' sizes='(max-width: 1200px) 100vw, 1200px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>
    </span>
    <figcaption class='gatsby-resp-image-figcaption'>Multiple random gradient lines</figcaption>
  </figure></p>
<h2>Gradient Brush</h2>
<p>As the last step, I want to turn this into a gradient brush, with which you can interactively paint. To do this, I will borrow the <code class="language-text">Path</code> class from my previous post, <a href="/blog/fixed-distance-brush-in-p5js/">Fixed Distance Brush In p5js</a>, and make some changes.</p>
<p>Let me first explain what changes I made. I created a few properties to keep track of the colors at each point of the path - <code class="language-text">this.hue</code> and <code class="language-text">this.hues</code>. Just like how we used the <code class="language-text">step</code> variable in the examples above to update the color throughout the gradient, we use <code class="language-text">this.hue</code> to set and update the current color being used. And every time a new point is added to the array <code class="language-text">this.pts</code>, I am also adding a new color to the <code class="language-text">this.hues</code> array.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>hue <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hue <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">360</span><span class="token punctuation">;</span></code></pre></div>
<p>The above expression is to make sure the hue value stays within the range between 0 and 360 and have a seamless transition.</p>
<p>I also added <code class="language-text">this.spacing</code>. Ideally, we would add a new circle for every pixel of the distance, but I noticed that the performance drops significantly. The spacing value of <code class="language-text">10</code> seems like a good place to start, but you should play with the value yourself.</p>
<p>Also, I removed the part that calculates the angle as I am using a circle brush and do not need the angle and simplified the <code class="language-text">display()</code> method.</p>
<p>This version of the sketch is not quite optimized, and if you hold the mouse for too long, or use a very large brush, the frame rate will drop. Anyway, here is the final sketch with the updated <code class="language-text">Path</code> class. I hope this is useful to you!</p>
<p><figure class='gatsby-resp-image-figure' style=''>
    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; '>
      <span class='gatsby-resp-image-background-image' style="padding-bottom: 62.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADUElEQVQozyXTbUxVdQDH8X+lq1hmA61krrEJAesBzAgFS2j1BnSOHjakBCxCiaclOSxywL33nHvv/5xzH865V9AI7YGBRFHBpBbc3GJOGTFoBOHFOzVpLR0i2ILMfRv29rd9P+9+QtM1dE3HbSk4m+xohqSztIyAzYbb8OCyB3GrJqZq4HUZ+A0Vn+ZCGhJ30IE0FVw+D06/D13TEMuY9Dlpye+lPSPMUOYuEIKhbVk4Az46T2fT+tVu9rY5qWtxUKW2867egs/h5XjKBK3Zv9C9p5LvX3oDxTIR0lSxSjtoW/MXww/8xMK92Zx6JYdIShLfRp5m6OpqShaeQlBK9Pgx7nof4hqmCaRO8lF8hN71i0TWVTDy3E4am4IIedhOIDeEviXCxMZaxtIK6S3M59ZBwdj1OFRTJfb3ArJHDyAGJ9hkP0d85XnqVy8ia48wkHqZmVV2fswpwn7YQuhBB+6879CT/2QuJsDZbWWM5aZBv6BvoJiqjmri5zJIuKQjRqfJdIyTUHiemgfn8L55grGEWSaT6hnJfAtbkx/hCSg07OpBxs7DnSFmHn2NcF4SNwbvo7+vgKrJjUSTSNSNI6QPnOZu/78kvzxFxZNTND8xSTj1MgPb65lOrkIJeBFeU6WupAvnyiWW7hnnZnQBf7wax3jPZobHEiifeZi1i1msudLFwY8/5I5meCw3TGX+SYICws+O8nXBISKJH6BYBsLrV6mtbEcRS1yMP0MkYx/XitbzTfNehmYE+6Y2kD6yn5irAxz1NBLrnyVl60XqpYdjYo6fnz/Fl0U2LiS4USwd4TNV9pd1Uib+5sq6H5jIquef8rW0ae/ROnU/JaPpbA/tRtDD1slRovqX2BB7nRpHEDPqEr9u6ie0w+Dc4wFsTRrC63NxqOY4r79whvEtn4Ho4trbacwfjWEwtIrNC9Ekzq/gxbN1JIV/o/jkF+Q8M0zMylvkPXKB2Yf6uLnic7qLLRRLIjRNxzAkhuXEIzU+rQwSdKr0Wzs54anmnY5yKrr3YKqSpkYblktBNzQOVH9Cg2rSUuejrTyI9Pz/OKHrGsuoJg00XcdpStyGgUMGcWp+fKqJX7GQuo7bYyB143boN1U8hsTl1VBN9+1tGfwPMfdp6h7QahYAAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <img class='gatsby-resp-image-image' alt='Who doesn&#39;t love a rainbow?' title='Who doesn&#39;t love a rainbow?' src='/static/1eb876fc38561692a79ec297d7e6770a/c1b63/5.png' srcset='/static/1eb876fc38561692a79ec297d7e6770a/5a46d/5.png 300w,
/static/1eb876fc38561692a79ec297d7e6770a/0a47e/5.png 600w,
/static/1eb876fc38561692a79ec297d7e6770a/c1b63/5.png 1200w,
/static/1eb876fc38561692a79ec297d7e6770a/ddb6a/5.png 1592w' sizes='(max-width: 1200px) 100vw, 1200px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>
    </span>
    <figcaption class='gatsby-resp-image-figcaption'>Who doesn&#39;t love a rainbow?</figcaption>
  </figure></p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> path

<span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">createCanvas</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">colorMode</span><span class="token punctuation">(</span><span class="token constant">HSB</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  path<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mousePressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mouseDragged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  path<span class="token punctuation">.</span><span class="token function">addPoint</span><span class="token punctuation">(</span>mouseX<span class="token punctuation">,</span> mouseY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Path</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">// size of brush</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>spacing <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// spacing between points; lower value gives you smoother path, but frame rate will drop</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hue <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">)</span> <span class="token comment">// start value</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hues <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// keep track of the hues for each point</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">lastPt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pts<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>pts<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">addPoint</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pts<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>pts<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">p5<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>hues<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hue<span class="token punctuation">)</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> nextPt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">p5<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> d <span class="token operator">=</span> p5<span class="token punctuation">.</span>Vector<span class="token punctuation">.</span><span class="token function">dist</span><span class="token punctuation">(</span>nextPt<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastPt<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>d <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>spacing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> diff <span class="token operator">=</span> p5<span class="token punctuation">.</span>Vector<span class="token punctuation">.</span><span class="token function">sub</span><span class="token punctuation">(</span>nextPt<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastPt<span class="token punctuation">)</span><span class="token punctuation">;</span>
      diff<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      diff<span class="token punctuation">.</span><span class="token function">mult</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>spacing<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>pts<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>p5<span class="token punctuation">.</span>Vector<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastPt<span class="token punctuation">,</span> diff<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      d <span class="token operator">-=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>spacing<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>hue <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hue <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">360</span><span class="token punctuation">;</span> <span class="token comment">// for each new point, update the hue</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>hues<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">noStroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hues<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
      <span class="token function">ellipse</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div><style data-emotion="css gi1u7h">.css-gi1u7h{margin-top:60px;padding:30px;border-top:1px solid #aaa;font-size:1.8rem;text-align:center;}</style><div class="css-gi1u7h"><style data-emotion="css 1l67l6w">.css-1l67l6w{margin-bottom:16px;color:#666;}</style><p class="css-1l67l6w">If you liked my contents, please consider supporting. Thank you!</p><p>Tezos donation address: <pre>tz1cr64U6Ga4skQ4oWYqchFLGgT6mmkyQZe9</pre></p><p>Kofi donation link:</p><a href="https://ko-fi.com/E1E12Z9TZ" target="_blank" rel="noreferrer" class="css-0"><img style="border:0;height:36px" src="https://cdn.ko-fi.com/cdn/kofi2.png?v=2" alt="Buy Me a Coffee at ko-fi.com"/></a></div></div></main><style data-emotion="css d9qqnj">.css-d9qqnj{grid-row:3/4;}</style><style data-emotion="css 1f21wwo">.css-1f21wwo{margin-top:48px;height:100px;background-image:linear-gradient(white 0%, #fdd 100%);}</style><footer class="css-1f21wwo"><style data-emotion="css dsh6eg">.css-dsh6eg{margin:0 auto;padding:0 12px;max-width:800px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-dsh6eg"><style data-emotion="css 10r641u">.css-10r641u{font-size:1.2rem;}</style><div class="css-10r641u">Copyright 2020-2021 • ErraticGenerator.com •<!-- --> <a href="/privacy/">Our Privacy Policy</a></div><style data-emotion="css 11f9kv5">.css-11f9kv5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:3rem;list-style-type:none;}.css-11f9kv5 li{margin:0 10px;}</style><ul class="css-11f9kv5"><li><a href="mailto:erraticgenerator@gmail.com" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"></path></svg></a></li><li><a href="https://instagram.com/erraticgenerator" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 0 0-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"></path></svg></a></li><li><a href="https://erraticgenerator.medium.com" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M834.7 279.8l61.3-58.9V208H683.7L532.4 586.4 360.3 208H137.7v12.9l71.6 86.6c7 6.4 10.6 15.8 9.7 25.2V673c2.2 12.3-1.7 24.8-10.3 33.7L128 805v12.7h228.6v-12.9l-80.6-98a39.99 39.99 0 0 1-11.1-33.7V378.7l200.7 439.2h23.3l172.6-439.2v349.9c0 9.2 0 11.1-6 17.2l-62.1 60.3V819h301.2v-12.9l-59.9-58.9c-5.2-4-7.9-10.7-6.8-17.2V297a18.1 18.1 0 0 1 6.8-17.2z"></path></svg></a></li><li><a href="https://twitter.com/erraticgener8or" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M928 254.3c-30.6 13.2-63.9 22.7-98.2 26.4a170.1 170.1 0 0 0 75-94 336.64 336.64 0 0 1-108.2 41.2A170.1 170.1 0 0 0 672 174c-94.5 0-170.5 76.6-170.5 170.6 0 13.2 1.6 26.4 4.2 39.1-141.5-7.4-267.7-75-351.6-178.5a169.32 169.32 0 0 0-23.2 86.1c0 59.2 30.1 111.4 76 142.1a172 172 0 0 1-77.1-21.7v2.1c0 82.9 58.6 151.6 136.7 167.4a180.6 180.6 0 0 1-44.9 5.8c-11.1 0-21.6-1.1-32.2-2.6C211 652 273.9 701.1 348.8 702.7c-58.6 45.9-132 72.9-211.7 72.9-14.3 0-27.5-.5-41.2-2.1C171.5 822 261.2 850 357.8 850 671.4 850 843 590.2 843 364.7c0-7.4 0-14.8-.5-22.2 33.2-24.3 62.3-54.4 85.5-88.2z"></path></svg></a></li></ul></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-185826355-1"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-185826355-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-185826355-1', {"anonymize_ip":true,"cookie_expires":0,"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/gradient-lines-and-brushes-in-p5js/";window.___webpackCompilationHash="6a6b292dda84941957d0";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-15952ba86378d587006d.js"],"app":["/app-45d7508fd8245f182e57.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b97ca9d0c56aa78522b5.js"],"component---src-pages-about-js":["/component---src-pages-about-js-56ad5f6a7634fa4ff6b0.js"],"component---src-pages-index-js":["/component---src-pages-index-js-e97f9eb9a7c5d1c8bac6.js"],"component---src-pages-privacy-js":["/component---src-pages-privacy-js-1b495cf46d86421cec09.js"],"component---src-templates-blog-post-template-js":["/component---src-templates-blog-post-template-js-478bf50e9978849b5b40.js"]};/*]]>*/</script><script src="/polyfill-15952ba86378d587006d.js" nomodule=""></script><script src="/component---src-templates-blog-post-template-js-478bf50e9978849b5b40.js" async=""></script><script src="/eb9d8cad3e7a5281726e7c4ed76f1fbad1e5b719-6acf9f4f59ccff7436a6.js" async=""></script><script src="/commons-a19e32fc4bdcf911055e.js" async=""></script><script src="/app-45d7508fd8245f182e57.js" async=""></script><script src="/framework-68cf14eef5bda77f0f65.js" async=""></script><script src="/webpack-runtime-c38d417cd8f1828bb2e9.js" async=""></script></body></html>